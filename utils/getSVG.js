const fs = require("fs");
const path = require("path");

const iconNames = [
    "adobe.svg",
    "ae.svg",
    "affinity.svg",
    "affinitydesigner.svg",
    "affinityphoto.svg",
    "affinitypublisher.svg",
    "ai.svg",
    "airtable.svg",
    "alacritty.svg",
    "algolia.svg",
    "algorand.svg",
    "alpinejs.svg",
    "amp.svg",
    "amznwebserv.svg",
    "analytics.svg",
    "android.svg",
    "angular.svg",
    "angular17.svg",
    "antd.svg",
    "apache.svg",
    "appwrite.svg",
    "arc.svg",
    "astro.svg",
    "atlassian.svg",
    "atom.svg",
    "auth0.svg",
    "avajs.svg",
    "aws.svg",
    "axiom.svg",
    "axm.svg",
    "axure.svg",
    "azure.svg",
    "babel.svg",
    "backbonejs.svg",
    "bash.svg",
    "bitbucket.svg",
    "bitnami.svg",
    "blueprintjs.svg",
    "bootstrap4.svg",
    "bootstrap5.svg",
    "brave.svg",
    "bulmaui.svg",
    "bunjs.svg",
    "cakephp.svg",
    "canva.svg",
    "cassandradb.svg",
    "chakraui.svg",
    "chrome.svg",
    "chromium.svg",
    "circleci.svg",
    "clickhouse.svg",
    "clojure.svg",
    "cloudflare.svg",
    "cloudinary.svg",
    "codefresh.svg",
    "codeigniter.svg",
    "copilotgithub.svg",
    "copilotms.svg",
    "cpp.svg",
    "crystal.svg",
    "csharp.svg",
    "css3.svg",
    "cypress.svg",
    "dart.svg",
    "datadog.svg",
    "deno.svg",
    "digitalocean.svg",
    "django.svg",
    "dlang.svg",
    "docker.svg",
    "docusaurus.svg",
    "dovetail.svg",
    "ec2.svg",
    "edge.svg",
    "elastic.svg",
    "electron.svg",
    "elementui.svg",
    "elixir.svg",
    "ember.svg",
    "erlang.svg",
    "esbuild.svg",
    "eslint.svg",
    "faunadb.svg",
    "figma.svg",
    "firebase.svg",
    "firefox.svg",
    "flask.svg",
    "flutter.svg",
    "flutterflow.svg",
    "flyio.svg",
    "framer.svg",
    "gatsby.svg",
    "gcloud.svg",
    "git.svg",
    "github.svg",
    "gitlab.svg",
    "go.svg",
    "grafana.svg",
    "grafbase.svg",
    "graphite.svg",
    "graphql.svg",
    "gridsome.svg",
    "gruntjs.svg",
    "gsap.svg",
    "gulp.svg",
    "haskell.svg",
    "headlessui.svg",
    "heroku.svg",
    "hexo.svg",
    "hhvm.svg",
    "homebrew.svg",
    "hotjar.svg",
    "html5.svg",
    "hyper.svg",
    "hyper2.svg",
    "i18next.svg",
    "id.svg",
    "ie.svg",
    "inkspace.svg",
    "insomnia.svg",
    "invision.svg",
    "ionic.svg",
    "jamstack.svg",
    "java.svg",
    "jest.svg",
    "jira.svg",
    "jquery.svg",
    "js.svg",
    "jslint.svg",
    "json.svg",
    "kibana.svg",
    "kotlin.svg",
    "kubernetes.svg",
    "laravel.svg",
    "less.svg",
    "lightroom.svg",
    "linux.svg",
    "lit.svg",
    "liveblocks.svg",
    "logrocket.svg",
    "lokalise.svg",
    "lua.svg",
    "lunacy.svg",
    "mariadb.svg",
    "marionette.svg",
    "markdown.svg",
    "materialui.svg",
    "meta.svg",
    "microsoft.svg",
    "miro.svg",
    "mochajs.svg",
    "mongodb.svg",
    "mongoose.svg",
    "mozilla.svg",
    "mysql.svg",
    "neovim.svg",
    "nestjs.svg",
    "netlify.svg",
    "netlify2.svg",
    "nextjs.svg",
    "nextjs2.svg",
    "nim.svg",
    "nitro.svg",
    "nodejs.svg",
    "npm.svg",
    "npm2.svg",
    "nuxtjs.svg",
    "ocaml.svg",
    "onedrive.svg",
    "openai.svg",
    "opera.svg",
    "oracle.svg",
    "pandacss.svg",
    "php.svg",
    "pinia.svg",
    "pixijs.svg",
    "playwright.svg",
    "postgresql.svg",
    "postman.svg",
    "powershell.svg",
    "preact.svg",
    "presto.svg",
    "prettier.svg",
    "prisma.svg",
    "ps.svg",
    "pugjs.svg",
    "pwa.svg",
    "python.svg",
    "pytorch.svg",
    "pytorch3d.svg",
    "qwik.svg",
    "radixui.svg",
    "rails.svg",
    "railway.svg",
    "reactjs.svg",
    "reactquery.svg",
    "reactrouter.svg",
    "redhat.svg",
    "redis.svg",
    "redux.svg",
    "reduxsaga.svg",
    "remix.svg",
    "render.svg",
    "resend.svg",
    "rollup.svg",
    "ruby.svg",
    "rust.svg",
    "safari.svg",
    "sass.svg",
    "scala.svg",
    "semanticui.svg",
    "serverless.svg",
    "shadcnui.svg",
    "sketch.svg",
    "sketch2.svg",
    "slack.svg",
    "solidity.svg",
    "solidjs.svg",
    "spring.svg",
    "storyblok.svg",
    "storybook.svg",
    "strada.svg",
    "stream.svg",
    "streamlit.svg",
    "stylelint.svg",
    "sublime.svg",
    "supabase.svg",
    "sveltejs.svg",
    "swagger.svg",
    "swift.svg",
    "tailwindcss.svg",
    "threejs.svg",
    "tinyhttp.svg",
    "tRPC.svg",
    "typescript.svg",
    "ubuntu.svg",
    "unjs.svg",
    "ur.svg",
    "vim.svg",
    "visualbasic.svg",
    "vitejs.svg",
    "vitest.svg",
    "vscode.svg",
    "vuejs.svg",
    "webassembly.svg",
    "webpack.svg",
    "wordpress.svg",
    "xamarin.svg",
    "xd.svg",
    "yoga.svg",
    "zod.svg",
];

exports.generateSVG = (iconName, size, enhanced) => {
    try {
        // Read the SVG file contents as string
        const svgPath = enhanced ? getCoolIcon(`${iconName}`) : path.join(__dirname, `../TechIcons/${iconName.toLowerCase()}.svg`);
        const iconCode = fs.readFileSync(svgPath, "utf-8");
        const starter = `<svg xmlns="http://www.w3.org/2000/svg" width="${size}" height="${size}" viewBox="0 0 ${size} ${size}">`;
        const res = iconCode.replace(/<svg[^>]*>/, starter);
        return iconCode;
        return res;
    } catch (err) {
        console.error(`Error generating SVG for ${iconName}:`, err);
        return `<div style="color: red;">Icon "${iconName}" not found.</div>`;
    }
};

const getCoolIcon = (icon) => {
    console.log("Called to get cool icon");
    
    const I = iconNames.findIndex((e) => e === icon+".svg")
    console.log(icon + " - " + I)
    return path.join(__dirname, `../coolIcons/Frame-${I}.svg`)
}
